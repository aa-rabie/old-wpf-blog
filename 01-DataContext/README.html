<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>How should I decide whether to use DataContext or Source?</title>
        <style>
</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        
        
        
    </head>
    <body class="vscode-light">
        <h1 id="how-should-i-decide-whether-to-use-datacontext-or-source">How should I decide whether to use DataContext or Source?</h1>
<p>The <strong>DataContext</strong> is one of the most fundamental concepts in Data Binding.</p>
<p>The Binding object needs to get its data from somewhere, and there are a few ways to specify the source of the data. In this post I talk about setting the Source property directly in the Binding vs inheriting a DataContext from the nearest element when traversing up in the tree. The other two alternatives are setting the ElementName and RelativeSource properties in the Binding object, but I will leave that for a future post.</p>
<p>For example, let's assume we have the following data sources (GreekGod being a class defined in the code behind):</p>
<pre><code>&lt;Window.Resources&gt;
    &lt;local:GreekGod Name=&quot;Zeus&quot; Description=&quot;Supreme God of the Olympians&quot; RomanName=&quot;Jupiter&quot; x:Key=&quot;zeus&quot;/&gt;
    &lt;local:GreekGod Name=&quot;Poseidon&quot; Description=&quot;God of the sea, earthquakes and horses&quot; RomanName=&quot;Neptune&quot; x:Key=&quot;poseidon&quot;/&gt;
&lt;/Window.Resources&gt;

&lt;StackPanel DataContext=&quot;{StaticResource poseidon}&quot;&gt;
    &lt;TextBlock TextContent=&quot;{Binding Source={StaticResource zeus}, Path=Name}&quot;/&gt;
    &lt;TextBlock TextContent=&quot;{Binding Path=Description}&quot;/&gt;
    &lt;TextBlock TextContent=&quot;{Binding Path=RomanName}&quot;/&gt;
&lt;/StackPanel&gt;
</code></pre>
<p>The first TextBlock inherits the DataContext from the parent StackPanel and has a Source set in the Binding object too. In this case, Source takes priority, causing the TextBlock to bind to the Name property of the resource with key &quot;zeus&quot; - this displays &quot;Zeus&quot;.</p>
<p>The second TextBlock does not have a Source set directly in the Binding object, so it inherits the DataContext from the StackPanel. As you might guess, this binds to the Description property of the resource with key &quot;poseidon&quot;, displaying &quot;God of the sea, earthquakes and horses&quot;.</p>
<p>The third TextBlock should be straightforward - it displays &quot;Neptune&quot;.</p>
<p>Most data bound applications I see from users tend to use DataContext much more heavily than Source. My recommendation is to use DataContext only when you need to bind more than one property to a particular source. When binding only one property to a source, I always use Source. The reason for this is ease of debugging - I would rather see all the information about the Binding in one place than search for the nearest DataContext to understand what is going on. In a small sample like the one above there is no big advantage, but in complex applications this could save you some time.</p>
<p><img src="file:///c:\temp\old-wpf-blog\01-DataContext\Images\DataContext.PNG" alt=""></p>
<p><strong>UWP/Uno Notes</strong></p>
<p>In UWP it's not very common to reference the Windows of the application directly. Instead you can define static resources (in this case the instances of the GreekGod class) at the Application, Page or even Control level. For example, to make the static resource available throughout a given page, we would define them as Page Resources.</p>
<pre><code>&lt;Page.Resources&gt;
    &lt;local:GreekGod Name=&quot;Zeus&quot; Description=&quot;Supreme God of the Olympians&quot; RomanName=&quot;Jupiter&quot; x:Key=&quot;zeus&quot;/&gt;
    &lt;local:GreekGod Name=&quot;Poseidon&quot; Description=&quot;God of the sea, earthquakes and horses&quot; RomanName=&quot;Neptune&quot; x:Key=&quot;poseidon&quot;/&gt;
&lt;/Page.Resources&gt;</code></pre>

    </body>
    </html>